{{define "content"}}
<section class="page-header">
  <div>
    <p class="eyebrow">Admin</p>
    <h1>Jadwal Booking</h1>
    <p class="muted">Lihat ruangan mana yang sudah dibooking dan durasinya.</p>
  </div>
  <div class="flow-actions">
    <a class="btn outline" href="/admin/rooms">Kembali ke rooms</a>
    <a class="btn primary" href="/admin/bookings">Kelola booking</a>
  </div>
</section>

<section class="card">
  <form method="get" action="/admin/availability" class="filters">
    <select name="room_id">
      <option value="">All Rooms</option>
      {{range .Rooms}}
        <option value="{{.ID}}" {{if eq .ID $.FilterRoomIDValue}}selected{{end}}>{{.RoomNo}} - {{.Name}}</option>
      {{end}}
    </select>
    <button type="submit">Filter</button>
  </form>
</section>

<table class="table">
  <thead>
    <tr>
      <th>Booking ID</th>
      <th>User</th>
      <th>Room</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Days</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {{range .Booked}}
    <tr>
      <td>{{.ID}}</td>
      <td>{{.UserID}}</td>
      <td>{{.RoomNo}} - {{.RoomName}}</td>
      <td>{{.StartDate}}</td>
      <td>{{.EndDate}}</td>
      <td>{{.TotalDays}}</td>
      <td><span class="pill">{{.Status}}</span></td>
    </tr>
    {{else}}
    <tr><td colspan="7">Belum ada booking.</td></tr>
    {{end}}
  </tbody>
</table>
{{end}}
